import{Hex}from"../model/mapsheet.js";var PanZoom;!function(t){let e,n;function o(){const{x:t,y:e}=i().getPan(),n=document.getElementById("mapsheet"),[o,m]=a(Hex.svgWidth,Hex.svgHeight),l=Math.min(0,Math.max(t,-o+n.clientWidth)),c=Math.min(0,Math.max(e,-m+n.clientHeight));l===t&&c===e||i().pan({x:l,y:c})}function i(){return e}function a(t,e){return[t*m(),e*m()]}function m(){return i().getZoom()/n}t.initialize=function(){const t=document.querySelector("svg#mapsheet");if(void 0!==e||void 0!==n)throw new Error("PanZoom has already been initialized.");e=svgPanZoom(t,{controlIconsEnabled:!0,minZoom:Math.max(t.clientWidth/t.clientHeight,t.clientHeight/t.clientWidth),maxZoom:50,onPan:o,onZoom:o}),n=Math.max(Hex.svgWidth/t.clientWidth,Hex.svgHeight/t.clientHeight)},t.instance=i,t.clientPixelToSvgPixel=function(t,e){return[t/m(),e/m()]},t.svgPixelToClientPixel=a,t.getAbsoluteZoom=m,t.setAbsoluteZoom=function(t){i().zoom(t*n)}}(PanZoom||(PanZoom={}));export default PanZoom;