import{Partnership}from"../../model/partnership.js";import{Countries}from"../../model/countries.js";import InfoBubble from"./info-bubble.js";export default class CountryList{show(){xdialog.open({title:"Countries",body:'\n                <p>\n                    Partnership:\n                    <label><input type="checkbox" id="CountryList.alliedCountries" checked/> Allies</label>\n                    <label><input type="checkbox" id="CountryList.axisCountries" checked/> Axis</label>\n                    <label><input type="checkbox" id="CountryList.neutralCountries" checked/> Neutral</label>\n                </p>\n                <p>\n                    Conquered status:\n                    <label><input type="checkbox" id="CountryList.unconqueredCountries" checked/> Unconquered</label>\n                    <label><input type="checkbox" id="CountryList.conqueredCountries" checked/> Conquered</label>\n                </p>\n                <table id="CountryList.countryList">\n                    <thead>\n                        <tr>\n                            <th>Name</th>\n                            <th>Partnership</th>\n                            <th>Conquered</th>\n                            <th>Money</th>\n                        </tr>\n                    </thead>\n                    <tbody></tbody>\n                </table>',buttons:null,style:"width: 400px"}),this.#e(),document.getElementById("CountryList.alliedCountries").onclick=()=>this.#e(),document.getElementById("CountryList.axisCountries").onclick=()=>this.#e(),document.getElementById("CountryList.neutralCountries").onclick=()=>this.#e(),document.getElementById("CountryList.unconqueredCountries").onclick=()=>this.#e(),document.getElementById("CountryList.conqueredCountries").onclick=()=>this.#e()}#e(){const e=document.getElementById("CountryList.alliedCountries"),t=document.getElementById("CountryList.axisCountries"),n=document.getElementById("CountryList.neutralCountries"),o=document.getElementById("CountryList.unconqueredCountries"),r=document.getElementById("CountryList.conqueredCountries"),i=Countries.all().filter((i=>(e.checked||i.partnership()!==Partnership.Allies)&&(t.checked||i.partnership()!==Partnership.Axis)&&(n.checked||i.partnership()!==Partnership.Neutral)&&(o.checked||i.conquered())&&(r.checked||!i.conquered()))).map((e=>this.#t(e)));document.getElementById("CountryList.countryList").querySelector("tbody").replaceChildren(...i)}#t(e){const t=document.createElement("tr"),n=document.createElement("td");n.textContent=e.name(),t.appendChild(n);const o=document.createElement("td");o.textContent=e.partnership()?.name??"Neutral",t.appendChild(o);const r=document.createElement("td");r.textContent=e.conquered()?"Yes":"No",t.appendChild(r);const i=document.createElement("td");return i.textContent=`$${e.money}B`,t.appendChild(i),t.onclick=()=>InfoBubble.showCountryInfo(e),t}}