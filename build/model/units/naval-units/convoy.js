import NavalUnit from"../naval-unit.js";import{Countries}from"../../countries.js";export default class Convoy extends NavalUnit{money=0;destination=null;static maxMoney=1e3;constructor(n){super("Transport",0,0,2,50,n)}die(){this.owner.availableUnits.add(this),this.delete()}canTakeDamage(){return!1}type(){return"Naval unit (Convoy)"}price(){return 50}delay(){return 2}sameTypeAndStrength(n){return this.owner===n.owner&&n instanceof Convoy}sameBasicType(n){return n instanceof Convoy&&n.owner.partnership()===this.owner.partnership()}toJson(){let n=super.toJson();return n.money=this.money||void 0,n.destination=this.destination?.name(),n}static validateConvoyJson(n){return"money"in n&&("number"!=typeof n.money||n.money<0)?(console.warn("Invalid convoy: invalid money."),!1):!("destination"in n)||null!==Countries.fromName(n.destination)||(console.warn("Invalid convoy: invalid destination."),!1)}}