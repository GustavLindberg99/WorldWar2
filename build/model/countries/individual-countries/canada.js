import CountryWithUnits from"../country-with-units.js";import{Countries}from"../../countries.js";import{date,Month,year}from"../../date.js";import{Partnership}from"../../partnership.js";import{Convoy,Destroyer,DestroyerEscort,Infantry,LightCruiser,SupplyUnit,TransportShip}from"../../units.js";export default class Canada extends CountryWithUnits{constructor(){super(Partnership.Allies),this.availableUnits=new Set([...new Array(5).fill(null).map((()=>new Infantry(1,4,this))),new SupplyUnit(4,this),new Destroyer("River",1,1,50,this),new Convoy(this),new TransportShip(this)])}addNewAvailableUnits(){this.conquered()||(date.current===date(1940,Month.March)?(this.availableUnits.add(new Destroyer("Town",1,1,50,this)),this.availableUnits.add(new Destroyer("Town",1,1,50,this))):date.current===date(1943,Month.March)?(this.availableUnits.add(new Destroyer("Tribal",1,1,52,this)),this.availableUnits.add(new DestroyerEscort("River",1,1,29,this))):date.current===date(1943,Month.September)||1944===year(date.current)?this.availableUnits.add(new DestroyerEscort("River",1,1,29,this)):date.current===date(1945,Month.January)?(this.availableUnits.add(new Destroyer("C",1,1,52,this)),this.availableUnits.add(new LightCruiser("Ontario",1,1,45,this))):date.current===date(1946,Month.February)&&this.availableUnits.add(new Destroyer("Tribal",1,1,52,this)))}additionalInvadedCountries(t){return[Countries.unitedKingdom].filter((e=>e.canBeInvadedBy(t)))}income(){return super.income()+(Countries.unitedStates.partnership()===Partnership.Neutral?500:0)}canSendMoneyWithoutConvoys(){return[Countries.unitedStates].filter((t=>t.partnership()===this.partnership()&&!t.conquered()))}canSendMoneyWithConvoys(){return[Countries.unitedKingdom,Countries.sovietUnion].filter((t=>t.partnership()===this.partnership()&&!t.conquered()))}name(){return"Canada"}railCapacity(){return 1}color(){return"#70ec10"}}