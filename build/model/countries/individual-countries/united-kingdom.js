import CountryWithUnits from"../country-with-units.js";import{Countries}from"../../countries.js";import{currentYear,date,Month,month,year}from"../../date.js";import{Partnership}from"../../partnership.js";import{AirUnit,Armor,Battlecruiser,Battleship,Carrier,Convoy,Destroyer,DestroyerEscort,HeavyCruiser,Infantry,LightCruiser,Paratrooper,Submarine,SupplyUnit,TransportShip}from"../../units.js";export default class UnitedKingdom extends CountryWithUnits{constructor(){super(Partnership.Allies),this.availableUnits=new Set([...new Array(40).fill(null).map((()=>new Infantry(1,4,this))),...new Array(12).fill(null).map((()=>new Armor(1,5,this))),...new Array(10).fill(null).map((()=>new SupplyUnit(4,this))),...new Array(2).fill(null).map((()=>new AirUnit("Spitfire",this))),...new Array(2).fill(null).map((()=>new AirUnit("Hurricane",this))),...new Array(2).fill(null).map((()=>new AirUnit("Blenheim",this))),...new Array(2).fill(null).map((()=>new Destroyer("A",1,1,50,this))),new Destroyer("Admirality",1,1,52,this),new Destroyer("B",1,1,50,this),new Destroyer("D",1,1,52,this),new Destroyer("E",1,1,50,this),...new Array(2).fill(null).map((()=>new Destroyer("F",1,1,50,this))),new Destroyer("G",1,1,50,this),...new Array(2).fill(null).map((()=>new Destroyer("H",1,1,50,this))),...new Array(2).fill(null).map((()=>new Destroyer("I",1,1,52,this))),new Destroyer("Thornycroft",1,1,52,this),...new Array(2).fill(null).map((()=>new Destroyer("S",1,1,46,this))),...new Array(5).fill(null).map((()=>new Destroyer("V",1,1,49,this))),...new Array(5).fill(null).map((()=>new Destroyer("W",1,1,49,this))),...new Array(2).fill(null).map((()=>new Destroyer("Town",1,1,50,this))),new LightCruiser("Arethusa",1,1,46,this),new LightCruiser("Aurora",1,1,46,this),new LightCruiser("Galatea",1,1,46,this),new LightCruiser("Penelope",1,1,46,this),new LightCruiser("Caledon",1,1,42,this),new LightCruiser("Calypso",1,1,42,this),new LightCruiser("Caradoc",1,1,42,this),new LightCruiser("Cairo",1,1,42,this),new LightCruiser("Calcutta",1,1,42,this),new LightCruiser("Capetown",1,1,42,this),new LightCruiser("Carlisle",1,1,42,this),new LightCruiser("Colombo",1,1,42,this),new LightCruiser("Cardiff",1,1,42,this),new LightCruiser("Ceres",1,1,42,this),new LightCruiser("Coventry",1,1,42,this),new LightCruiser("Curacoa",1,1,42,this),new LightCruiser("Curlew",1,1,42,this),new LightCruiser("Danae",1,1,42,this),new LightCruiser("Dauntless",1,1,42,this),new LightCruiser("Delhi",1,1,42,this),new LightCruiser("Despatch",1,1,42,this),new LightCruiser("Diomede",1,1,42,this),new LightCruiser("Dunedin",1,1,42,this),new LightCruiser("Durban",1,1,42,this),new LightCruiser("Emerald",1,1,47,this),new LightCruiser("Enterprise",1,1,47,this),new LightCruiser("Effingham",1,1,44,this),new LightCruiser("Frobisher",1,1,44,this),new LightCruiser("Hawkins",1,1,44,this),new LightCruiser("Ajax",1,1,46,this),new LightCruiser("Neptune",1,1,46,this),new LightCruiser("Orion",1,1,46,this),new LightCruiser("Swiftsure",1,1,45,this),new LightCruiser("Belfast",1,1,46,this),new LightCruiser("Edinburgh",1,1,46,this),new LightCruiser("Gloucester",1,1,46,this),new LightCruiser("Liverpool",1,1,46,this),new LightCruiser("Manchester",1,1,46,this),new LightCruiser("Birmingham",1,1,46,this),new LightCruiser("Glasgow",1,1,46,this),new LightCruiser("Newcastle",1,1,46,this),new LightCruiser("Sheffield",1,1,46,this),new LightCruiser("Southampton",1,1,46,this),new LightCruiser("Dragon",1,1,42,this),new HeavyCruiser("Berwick",3,3,45,this),new HeavyCruiser("Cornwall",3,3,45,this),new HeavyCruiser("Cumberland",3,3,45,this),new HeavyCruiser("Kent",3,3,45,this),new HeavyCruiser("Suffolk",3,3,45,this),new HeavyCruiser("Devonshire",3,3,46,this),new HeavyCruiser("London",3,3,46,this),new HeavyCruiser("Sussex",3,3,46,this),new HeavyCruiser("Dorsetshire",3,3,45,this),new HeavyCruiser("Norfolk",3,3,45,this),new HeavyCruiser("Exeter",3,3,46,this),new HeavyCruiser("York",3,3,46,this),new HeavyCruiser("Shropshire",3,3,46,this),new Battlecruiser("Hood",6,7,43,this),new Battlecruiser("Renown",6,5,46,this),new Battlecruiser("Repulse",6,5,46,this),new Battleship("Iron Duke",4,3,30,this),new Battleship("Centurion",4,3,30,this),new Battleship("Barham",6,7,34,this),new Battleship("Malaya",6,7,34,this),new Battleship("Queen Elizabeth",6,7,34,this),new Battleship("Valiant",6,7,34,this),new Battleship("Warspite",6,7,34,this),new Battleship("Ramillies",7,7,31,this),new Battleship("Resolution",7,7,31,this),new Battleship("Revenge",7,7,31,this),new Battleship("Royal Oak",7,7,31,this),new Battleship("Royal Sovereign",7,7,31,this),new Battleship("Nelson",8,7,33,this),new Battleship("Rodney",8,7,33,this),new Carrier("Courageous",5,46,this,new AirUnit("Swordfish",this)),new Carrier("Furious",5,46,this,new AirUnit("Swordfish",this)),new Carrier("Glorious",5,46,this,new AirUnit("Swordfish",this)),new Submarine("H",3,2,19,this),new Submarine("Odin",3,2,22,this),new Submarine("Parthian",3,2,25,this),new Submarine("S2",3,2,20,this),...new Array(10).fill(null).map((()=>new TransportShip(this))),...new Array(5).fill(null).map((()=>new Convoy(this)))])}addNewAvailableUnits(){if(!this.conquered()){if(year(date.current)>=1939&&year(date.current)<=1941&&month(date.current)%6==0&&(this.availableUnits.add(new AirUnit("Hurricane",this)),year(date.current)<=1940&&this.availableUnits.add(new AirUnit("Anson",this))),year(date.current)>=1942&&year(date.current)<=1944&&month(date.current)%3==0&&this.availableUnits.add(new AirUnit("Typhoon",this)),(date.current>=date(1939,Month.September)&&year(date.current)<=1941&&month(date.current)%4==0||year(date.current)>1941&&month(date.current)===Month.August)&&this.availableUnits.add(new AirUnit("Spitfire",this)),(1941===year(date.current)&&month(date.current)%6==0||1942===year(date.current)&&month(date.current)%4==0||date.current>=1943&&date.current<=1944&&month(date.current)%2==0)&&this.availableUnits.add(new AirUnit("Mosquito",this)),null!==this.enteredWar)if(this.availableUnits.add(new Armor(1,5,this)),Countries.unitedStates.partnership()===Partnership.Neutral)for(let t=0;t<2;t++)this.availableUnits.add(new Infantry(1,4,this));else for(let t=0;t<4;t++)this.availableUnits.add(new Infantry(1,4,this));if(date.current===this.enteredWar){for(let t=0;t<8;t++)this.availableUnits.add(new Infantry(1,4,this));for(let t=0;t<20;t++)this.availableUnits.add(new SupplyUnit(4,this));for(let t=0;t<20;t++)this.availableUnits.add(new TransportShip(this));for(let t=0;t<15;t++)this.availableUnits.add(new AirUnit("Dragon Rapide",this))}date.current===date(1937,Month.December)?this.availableUnits.add(new Carrier("Ark Royal",5,43,this,new AirUnit("Swordfish",this))):date.current===date(1938,Month.January)||date.current===date(1938,Month.July)||date.current===date(1938,Month.November)?this.availableUnits.add(new Destroyer("Tribal",1,1,52,this)):date.current===date(1939,Month.March)?(this.availableUnits.add(new Destroyer("J",1,1,52,this)),this.availableUnits.add(new Destroyer("K",1,1,52,this)),this.availableUnits.add(new Submarine("T",3,2,22,this))):date.current===date(1939,Month.September)?(this.availableUnits.add(new Destroyer("H",1,1,50,this)),this.availableUnits.add(new Destroyer("J",1,1,52,this)),this.availableUnits.add(new Destroyer("K",1,1,52,this)),this.availableUnits.add(new DestroyerEscort("Hunt",1,1,39,this)),this.availableUnits.add(new LightCruiser("Fiji",1,1,47,this)),this.availableUnits.add(new Battleship("King George V",6,9,42,this)),this.availableUnits.add(new Battleship("Prince of Wales",6,9,42,this)),this.availableUnits.add(new Carrier("Illustrious",5,44,this,new AirUnit("Swordfish",this))),this.availableUnits.add(new Carrier("Formidable",5,44,this,new AirUnit("Swordfish",this))),this.availableUnits.add(new Carrier("Victorious",5,44,this,new AirUnit("Swordfish",this)))):date.current===date(1940,Month.February)?(this.availableUnits.add(new Destroyer("Town",1,2,50,this)),this.availableUnits.add(new Destroyer("Town",1,2,50,this)),this.availableUnits.add(new Destroyer("Town",1,2,50,this)),this.availableUnits.add(new DestroyerEscort("Hunt",1,1,39,this)),this.availableUnits.add(new LightCruiser("Kenya",1,1,47,this)),this.availableUnits.add(new LightCruiser("Nigeria",1,1,47,this)),this.availableUnits.add(new LightCruiser("Bonaventure",1,1,46,this)),this.availableUnits.add(new LightCruiser("Naiad",1,1,46,this)),this.availableUnits.add(new LightCruiser("Phoebe",1,1,46,this)),this.availableUnits.add(new LightCruiser("Dido",1,1,46,this)),this.availableUnits.add(new Battleship("Duke of York",6,9,42,this)),this.availableUnits.add(new Battleship("Anson",6,9,42,this)),this.availableUnits.add(new Battleship("Howe",6,9,42,this))):date.current===date(1940,Month.May)?(this.availableUnits.add(new DestroyerEscort("Hunt",1,1,39,this)),this.availableUnits.add(new Submarine("U",3,2,16,this))):date.current===date(1940,Month.August)?(this.availableUnits.add(new DestroyerEscort("Hunt",1,1,39,this)),this.availableUnits.add(new LightCruiser("Mauritius",1,1,47,this)),this.availableUnits.add(new Carrier("Indomitable",5,44,this,new AirUnit("Swordfish",this)))):date.current===date(1940,Month.November)?(this.availableUnits.add(new Destroyer("L",1,1,52,this)),this.availableUnits.add(new LightCruiser("Hermione",1,1,46,this))):date.current===date(1941,Month.January)?(this.availableUnits.add(new DestroyerEscort("Hunt",1,1,39,this)),this.availableUnits.add(new LightCruiser("Trinidad",1,1,47,this))):date.current===date(1941,Month.February)?(this.availableUnits.add(new DestroyerEscort("Hunt",1,1,39,this)),this.availableUnits.add(new LightCruiser("Euryalus",1,1,46,this)),this.availableUnits.add(new Submarine("U",3,2,16,this))):date.current===date(1941,Month.March)?(this.availableUnits.add(new Destroyer("L",1,1,52,this)),this.availableUnits.add(new DestroyerEscort("Hunt",1,1,39,this)),this.availableUnits.add(new Submarine("T",3,2,22,this))):date.current===date(1941,Month.June)?(this.availableUnits.add(new Destroyer("P",1,1,52,this)),this.availableUnits.add(new DestroyerEscort("Hunt",1,1,39,this))):date.current===date(1941,Month.September)?(this.availableUnits.add(new DestroyerEscort("Hunt",1,1,39,this)),this.availableUnits.add(new LightCruiser("Gambia",1,1,47,this)),this.availableUnits.add(new LightCruiser("Charybdis",1,1,46,this)),this.availableUnits.add(new LightCruiser("Cleopatra",1,1,46,this)),this.availableUnits.add(new LightCruiser("Sirius",1,1,46,this))):date.current===date(1942,Month.January)?(this.availableUnits.add(new Paratrooper(1,4,this)),this.availableUnits.add(new Destroyer("M",1,1,52,this)),this.availableUnits.add(new Destroyer("O",1,1,52,this)),this.availableUnits.add(new Destroyer("P",1,1,52,this)),this.availableUnits.add(new DestroyerEscort("Hunt",1,1,39,this)),this.availableUnits.add(new LightCruiser("Bermuda",1,1,47,this)),this.availableUnits.add(new LightCruiser("Jamaica",1,1,47,this)),this.availableUnits.add(new LightCruiser("Argonaut",1,1,46,this)),this.availableUnits.add(new LightCruiser("Scylla",1,1,46,this))):date.current===date(1942,Month.April)?(this.availableUnits.add(new Destroyer("Q",1,1,52,this)),this.availableUnits.add(new Destroyer("R",1,1,52,this)),this.availableUnits.add(new DestroyerEscort("Hunt",1,1,39,this)),this.availableUnits.add(new Submarine("S3",3,2,20,this))):date.current===date(1942,Month.July)?(this.availableUnits.add(new DestroyerEscort("Hunt",1,1,39,this)),this.availableUnits.add(new LightCruiser("Newfoundland",1,1,47,this)),this.availableUnits.add(new LightCruiser("Uganda",1,1,52,this)),this.availableUnits.add(new Submarine("U",3,2,16,this))):date.current===date(1942,Month.October)?(this.availableUnits.add(new Destroyer("R",1,1,52,this)),this.availableUnits.add(new Destroyer("T",1,1,52,this)),this.availableUnits.add(new DestroyerEscort("Hunt",1,1,39,this)),this.availableUnits.add(new DestroyerEscort("River",1,1,29,this)),this.availableUnits.add(new Submarine("S3",3,2,20,this))):date.current===date(1943,Month.January)?(this.availableUnits.add(new Destroyer("S",1,1,52,this)),this.availableUnits.add(new DestroyerEscort("Hunt",1,1,39,this)),this.availableUnits.add(new DestroyerEscort("Captain",1,1,29,this)),this.availableUnits.add(new LightCruiser("Ceylon",1,1,47,this)),this.availableUnits.add(new Carrier("Ruler",3,24,this,new AirUnit("Fulmar",this)))):date.current===date(1943,Month.April)?(this.availableUnits.add(new Destroyer("T",1,1,52,this)),this.availableUnits.add(new Destroyer("U",1,1,52,this)),this.availableUnits.add(new Destroyer("V",1,1,52,this)),this.availableUnits.add(new Destroyer("W",1,1,52,this)),this.availableUnits.add(new DestroyerEscort("Hunt",1,1,39,this)),this.availableUnits.add(new LightCruiser("Spartan",1,1,46,this)),this.availableUnits.add(new LightCruiser("Royalist",1,1,46,this)),this.availableUnits.add(new LightCruiser("Bellona",1,1,46,this)),this.availableUnits.add(new LightCruiser("Black Prince",1,1,46,this)),this.availableUnits.add(new Carrier("Indefatigable",5,46,this,new AirUnit("Firefly",this)))):date.current===date(1943,Month.September)?(this.availableUnits.add(new Destroyer("U",1,2,52,this)),this.availableUnits.add(new DestroyerEscort("Colony",1,1,29,this)),this.availableUnits.add(new DestroyerEscort("River",1,1,29,this)),this.availableUnits.add(new LightCruiser("Diadem",1,1,46,this)),this.availableUnits.add(new Carrier("Implacable",5,46,this,new AirUnit("Firefly",this))),this.availableUnits.add(new Submarine("T",3,2,22,this))):date.current===date(1944,Month.January)?(this.availableUnits.add(new Destroyer("C",1,1,52,this)),this.availableUnits.add(new Destroyer("Z",1,1,52,this)),this.availableUnits.add(new Submarine("S3",3,2,20,this))):date.current===date(1944,Month.March)?(this.availableUnits.add(new Destroyer("Z",1,1,52,this)),this.availableUnits.add(new DestroyerEscort("Colony",1,1,29,this)),this.availableUnits.add(new Submarine("V",3,2,16,this))):date.current===date(1944,Month.July)?(this.availableUnits.add(new Destroyer("C",1,1,52,this)),this.availableUnits.add(new DestroyerEscort("Loch",1,1,29,this))):date.current===date(1944,Month.November)?this.availableUnits.add(new DestroyerEscort("Colony",1,1,29,this)):date.current===date(1945,Month.January)?(this.availableUnits.add(new AirUnit("Lancaster",this)),this.availableUnits.add(new Destroyer("Battle",1,1,52,this))):date.current===date(1945,Month.March)?(this.availableUnits.add(new Destroyer("C",1,1,52,this)),this.availableUnits.add(new Destroyer("Battle",1,1,52,this)),this.availableUnits.add(new Submarine("V",3,2,16,this))):date.current===date(1945,Month.June)?(this.availableUnits.add(new Destroyer("C",1,1,52,this)),this.availableUnits.add(new Battleship("Vanguard",11,11,43,this))):date.current===date(1946,Month.January)&&(this.availableUnits.add(new Destroyer("Battle",1,1,52,this)),this.availableUnits.add(new Submarine("V",3,2,16,this)))}}hasAtomicBomb(){return date.current>=date(1952,Month.November)}income(){return super.income()+(this.gotMoneyFromConvoys?50*this.homelandResourceHexes().length:0)}maxMoneyExchange(){return Math.floor(this.money/3)}canSendMoneyWithoutConvoys(){let t=Countries.all().filter((t=>t!==this&&!this.canSendMoneyWithConvoys().includes(t)&&t.partnership()===this.partnership()&&!t.conquered()&&t.canSendMoneyWithoutConvoys().includes(this)));return Countries.china.canReceiveMoney()&&t.push(Countries.china),t}canSendMoneyWithConvoys(){return[Countries.canada,Countries.sovietUnion].filter((t=>t.partnership()===this.partnership()&&!t.conquered()))}name(){return"United Kingdom"}maxLandUnitStrength(){return currentYear()>=1943?8:6}maxArmorStrength(){return currentYear()>=1943?10:8}railCapacity(){return 6}color(){return"#cbf209"}}